<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>제주 관광지도</title>
    <style>
      #map {
        width: 100%;
        height: 500px;
      }
    </style>
  </head>
  <body>
    <h1>제주 관광지도</h1>

    <label for="place-select">관광지 선택:</label>
    <select id="place-select">
      <option value="">-- 장소를 선택하세요 --</option>
      <option value="yongduam">용두암</option>
      <option value="jusangjeolli">주상절리대</option>
      <option value="seongsan">성산일출봉</option>
      <option value="hallasan">한라산</option>
      <option value="jungmun">중문해수욕장</option>
    </select>

    <div id="map"></div>

    <script>
      const PLACES = {
        yongduam: {
          name: "용두암",
          position: { lat: 33.5153, lng: 126.5116 },
        },
        jusangjeolli: {
          name: "주상절리대",
          position: { lat: 33.2405, lng: 126.435 },
        },
        seongsan: {
          name: "성산일출봉",
          position: { lat: 33.4589, lng: 126.9425 },
        },
        hallasan: {
          name: "한라산",
          position: { lat: 33.3617, lng: 126.5292 },
        },
        jungmun: {
          name: "중문해수욕장",
          position: { lat: 33.2458, lng: 126.4115 },
        },
      };

      let map;
      let marker;
      let infoWindow;

      function initMap() {
        const jejuCenter = { lat: 33.389, lng: 126.531 };

        map = new google.maps.Map(document.getElementById("map"), {
          center: jejuCenter,
          zoom: 10,
        });

        marker = new google.maps.Marker({
          map,
        });

        infoWindow = new google.maps.InfoWindow();

        const select = document.getElementById("place-select");
        select.addEventListener("change", () => {
          const key = select.value;
          if (!key) return;

          const place = PLACES[key];
          showPlaceOnMap(place);
        });
      }

      function showPlaceOnMap(place) {
        map.setCenter(place.position);
        map.setZoom(13);

        marker.setPosition(place.position);
        marker.setTitle(place.name);

        infoWindow.setContent(`<div>${place.name}</div>`);
        infoWindow.open(map, marker);
      }
    </script>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5iQZsREusMHdPoQsGapSBmq2Uh9pde-w&callback=initMap"
      async
      defer
    ></script>
  </body>
</html>